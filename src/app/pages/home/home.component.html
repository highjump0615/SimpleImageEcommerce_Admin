<div class="pg-content">
  <!-- title -->
  <div class="pg-title flex-c-row">
    <span class="title">Dashboard</span>
  </div>

  <!-- content -->
  <div class="dv-content flex-col">
    <!-- summary info -->
    <div class="card dv-summary">
      <div class="card-body flex-col">
        <!-- payment -->
        <div class="flex-row">
          <label>Payments Sum: </label>
          <span
            class="font-weight-bold"
          >{{dashboard ? '$' + dashboard.orderAmount: ''}}</span>
        </div>

        <!-- order -->
        <div class="flex-row">
          <label class="mb-0">Total Orders: </label>
          <span
            class="font-weight-bold"
          >{{dashboard?.orderCount}}</span>
        </div>
      </div>
    </div>

    <!-- recent orders -->
    <div class="card mt-3">
      <div class="card-header">
        <fa name="table"></fa>
        &nbsp;&nbsp;&nbsp;&nbsp;Recent Orders
      </div>

      <!-- table -->
      <div class="card-body">
        <!-- loading -->
        <div
          class="dv-loading"
          *ngIf="loading">
          <app-spinner-overlay
            [fullScreen]="false">
          </app-spinner-overlay>
        </div>

        <div
          [hidden]="loading"
          class="table-responsive">
          <table class="table table-bordered table-sm">
            <thead>
            <tr>
              <th>User</th>
              <th>Amount</th>
              <th>Date</th>
            </tr>
            </thead>
            <tbody>
            <tr
              *ngFor="let o of orders; let i = index">
              <td>{{o.user.username}}</td>
              <td>{{o.amount}}</td>
              <td>{{o.createdAtStr()}}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </div>

</div>
